<html> <head>
<title>Xdelta</title>
</head>

<body bgcolor="#ffffff" text="#000000">
<center><img src="xdelta.gif" alt="Xdelta"></center>

<center><h1>News</h1></center>

Version 1.1 has been released, see the <A
HREF="ftp://ftp.xcf.berkeley.edu/pub/xdelta/NEWS">NEWS</A>.
<P>

As of version 1.0.5, Xdelta supports Windows.  A pre-built version is
available <A
HREF="ftp://ftp.xcf.berkeley.edu/pub/xdelta/xdelta-1.0.5.win32.zip">
here.</A>. <P>

You can see a draft of a paper describing Xdelta <A
HREF="ftp://ftp.xcf.berkeley.edu/pub/xdelta/xdelta.ps"> here</A>.

<center><h1>About</h1></center>

Xdelta is a binary delta generator library.  It was begun in February
1997 as an experiment with the intent of replacing RCS in a future
version of <A HREF="http://www.xcf.berkeley.edu/~jmacd/prcs.html">PRCS</A>.
The 0.x series of releases were the resulting, experimental code base.
Several algorithms were experimented with; the final algorithm
resembles the Rsync algorithm (due to Andrew Tridgell and Paul
Mackerras), though implementation and interface considerations leave
the two programs quite distinct.  Xdelta uses a fast, linear algorithm
and performs well on both binary and text files.
<P>

Xdelta is a library interface and application program designed to
compute changes between files.  These changes (deltas) are similar to
the output of the "diff" program in that they may be used to store and
transmit only the changes between files.  However, unlike diff, the
output of Xdelta is not expressed in a human-readable format and
cannot be reversed.  Xdelta can also also apply these deltas to a copy
of the original file(s).  Xdelta also includes a simple implementation
of the Rsync algorithm and several advanced features for implementing
RCS-like file-archival with.
<P>

Version 1.0, released on October 3, 1998, is greatly refined: It is
smaller, optimized, and has a clean interface.  This version is a
complete rewrite, and uses less than 50% of the memory require by the
0.x series, even greater reductions are seen in the application for
compressed files.  Files are now stream-processed when possible, and
paged when seeking is required.  The application now features a
--maxmem option to set the size of the internal buffers.  No files are
ever completely read into memory.  In addition, many features in the
0.x series have been removed, leaving only the delta and patch
functions.  The GDBM-archive support code has been reimplemented in
the new version of PRCS.
<P>

A file archival system has been built upon Xdelta.  The 0.x series of
releases included a prototype of this system, which has since been
greatly improved.  The original system used GDBM to store deltas.
GDBM was abandoned because it typically requires 5-10 times as much
space as actual data contained in its database, rendering all
advantages of delta-compression lost.  The file archival system does
not use branches to store deltas according to their logical ancestry,
instead it uses a linear delta encoding and past deltas are included
as inputs to future delta computation.  Though this may sound bad at
first, it actually works because past deltas contain the missing
branch's data.  Conceptually, imagine computing a (reverse) delta
between the previous head (a literal file) and the new file plus the
old deltas (the entire archive).  Computing a delta between the a file
and the entire archive relieves the branching requirement.  This
process is described in more detail in this <A href="prcs2.ps">paper</A>.
It has many improvements over RCS, aside from the fact that RCS was
simply not designed to be used as a library.  These are:
<P>

<ul>
<li>
The ability to easily discard old versions in date order, regardless
of ancestry.
</li>
<li>
The ability to retrieve all versions in time proportional to their age,
not ancestry.
</li>
<li>
Using a new file format allows individual deltas to be compressed as they age,
the entire archive need not be compressed at once.
</li>
<li>
Higher level applications (such as PRCS) are free from the hidden
performance implications of version-number allocation, since these tools
do not, in general, have enough information to make a good decision.
</li>
</ul>
<P>

The 0.x series had a <A HREF="http://www.gimp.org">GIMP</A> plugin
that stores multiple versions of an image in any Gimp-supported image
format.  This plugin has not been ported to version 1.0, since 1.0
removed the GDBM archival features.  Interested parties may contact me
for help updating this plugin.

<P>
<center><h1>Simple Command-Line Use</h1></center>

To generate a delta between files <em>FROM</em> and <em>TO</em> and
write the delta to the file named <em>OUT</em>, run the command:
<P>

$ xdelta delta [options] FROM TO OUT
<P>

If you supply no options, the internals of OUT are compressed using
zlib's default compression.  You do not need to post-compress its
output!  The compression level can be set with the arguments -0
through -9, with 0 indicating no compression.  To apply the previously
generated delta with a copy of <em>FROM</em> and <em>OUT</em>:
<P>

$ xdelta patch [options] OUT FROM TO.RECONSTRUCTED
<P>

This will produce the file <em>TO.RECONSTRUCTED</em>.  If this command
succeeds then you can be confident that Xdelta produced an exact copy
of the original file because it verifies the MD5 checksum of its
output.  You can list information about a delta with the command:
<P>

$ xdelta info OUT
<P>

Sample output:
<P>

xdelta: version 1.1.0 found patch version 1.1 in out (compressed) <br>
xdelta: generated with a gzipped FROM file <br>
xdelta: generated with a gzipped TO file <br>
xdelta: output name:   xdelta-1.0.1.tar.gz <br>
xdelta: output length: 798720 <br>
xdelta: output md5:    c33f043e276ff3986dbab99f14213c44 <br>
xdelta: patch from segments: 2 <br>
xdelta: MD5                              Length Copies  Used    Seq?    Name <br>
xdelta: 11b99054e237b611db7d2ee7b090b4a4 16309  736     16309   yes     (patch data) <br>
xdelta: 641b34f2630d66a346cee9893cfc01a6 788480 1550    782411  no      xdelta-1.0.0.tar.gz <br>

<center><h1>Downloading</h1></center>

Xdelta is available <A
HREF="ftp://ftp.xcf.berkeley.edu/pub/xdelta">here</A>.  The Xdelta
library is very portable.  Xdelta depends on <A HREF="ftp://ftp.cdrom.com/pub/infozip/zlib">Zlib 1.1.x</A>
and <A HREF="ftp://ftp.gtk.org/pub/gtk/v1.1">GLIB 1.3.0</A>.
<P>

The latest version of Xdelta is version
<!-- $Format: "$ReleaseVersion$." $ -->
1.1.2.
see the <A HREF="ftp://ftp.xcf.berkeley.edu/pub/xdelta/NEWS">NEWS</A>.  <P>
<P>

Thanks to <A HREF="mailto:aklikins@eos.ncsu.edu">Adrian Likins</A> for the artwork.

<P>

<hr>
<center>
This page has been accessed
<IMG
SRC="/cgi-bin/Count.cgi?ft=0|frgb=0;0;0|tr=0|trgb=0;0;0|wxh=15;20|md=7|dd=B|st=1|sh=1|df=xdelta.dat"
ALT="a whole bunch of">
times.
<!-- since August 16, 1998-->
<hr>
<!-- hhmts start -->
Last modified: Wed Apr  7 00:36:07 PDT 1999
<!-- hhmts end --><br>
<a href="http://www.xcf.berkeley.edu/~jmacd/">Josh MacDonald</a> /
<i><a
HREF="mailto:jmacd@cs.berkeley.edu">jmacd@cs.berkeley.edu</a></i>
</center>
<img align=right src="gbg.gif" alt="">
</body> </html>
