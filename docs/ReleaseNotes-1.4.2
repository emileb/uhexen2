Hexen II: Hammer of Thyrion
Release Notes for version 1.4.2
===============================

Changes since HoT-1.4.1 :

Current state: 1.4.2-pre1+ (pre-release, 2007-03-18.)

General:
--------
- The engine version is now 1.17.
- Added support for protocol 18: Hammer of Thyrion is now fully network-
  compatible with Raven's 1.11 windows version, as it has been with other
  Hexen II ports.
- The net compatibility works both ways: When H.o.T is run as a client,
  it can connect to Raven-1.11 servers and can play just fine. On the
  other hand, if a 1.11 client wants to connect to a H.o.T. server, the
  server must be started with "-protocol 18" command line argument.
- You can also load and play games saved with the 1.11 windows version and
  can playback the demos recorded with the 1.11 version.
- Fixed and improved parsing of puzzles.txt: This fixes the bug where the
  names used to be listed as Unknown in the puzzle pieces inventory display
  (you can access the puzzle pieces inventory display using a key bound to
  the +showdm command, the default is q).
- Updated the loading of strings.txt, infolist.txt and puzzles.txt.
- Updates to SDL input code.  Added the Shift-Escape key combination as a
  new means for opening the in-game console.
- Fixed many printf format string errors.
- Mac OS X: Ensured that the basedir always stays the same (fix was added
  in 1.4.1-rev1).

Gameplay:
---------
- The gamecode version is now 1.17.
- Origin fixes for tomed fires of vorpal sword and purifier: paladin used
  to fire them always from the non-crouched eye position, and it was even
  the worst when he was looking up (and down). You won't be shooting your
  back again when standing just in front of a wall and fire your tomed
  purifier to the sky, from now on ;)
- Fixed an obscure bug where the assasin with her 4th weapon uses the tome
  of power and can't fire it (gamecode version 1.16a, the fix was added in
  1.4.1-rev1).

Console:
--------
- Added prefix matching support to the maplist command.
- A duplicate name detection bug in the maplist command was fixed.
- Updated and sanitized the command lister procedures.
- Added a -developer command line argument which sets the developer cvar to
  1 during the init phase (ie. before the config is read).
- Consolidated all Con_Printf and Sys_Printf family of procedures into a
  single flag based procedure. Added macros for compatibility with the old
  api.
- Revised the logging system, made all Con_Printf and Sys_Printf output to
  be written into the logs forom the start. Added a -devlog command line
  switch to enable logging of developer message evn when the developer cvar
  isn't set.

Server:
-------
- Made the Hexen II dedicated server to exec not hexen.rc or config.cfg, but
  server.cfg if available. As an alternative, any config file can be exec'ed
  when starting the server, such as: "h2ded +exec myconfig.cfg"
- Hexen II dedicated server now starts the demo1 map, if the server is still
  not active when initialization is complete.
- Fixed net driver checks in Hexen II dedicated server: It seriously broken
  in the 1.4.1 release and works properly now.

Video:
------
- Added 'apply changes' and 'reset changes' items to the video options menu.

OpenGL Renderer:
----------------
- Fixed bug that the array size for playertextures must be MAX_CLIENTS, but
  was hardcoded as 16.

Sound:
------
- Added external music file support via SDL_mixer as an extra patch.

CDAudio:
--------

HexenWorld:
-----------
- OpenGL: Fixed bug that netgraphtexture was not reset during reinitializa-
  tion of the draw subsystem (used to affect the packet loss status graph by
  r_netgraph).
- OpenGL: Fixed bug that dynamic lights had a problem with RGBA lightmaps
  (such as torches didn't illuminate) but luminance mode was fine. Lightmaps
  in RGBA mode are working now.
- OpenGL: Added colored dynamic lights and extra dynamic lights (stuff copied
  over from hexen2). The gl_colored_dynamic_lights and gl_extra_dynamic_lights
  cvars and their menu entries are functional now.

Launcher:
----------
- Added integrated ability to patch the pak files using the xdelta libraries
  that we just imported.
- Incremented the version number to 0.9.0.

Utilities:
----------

Other:
----------------------
- Started a large scale attempt at improving const-correctness all over the
  tree.
- Updated inline commentaries.
- Imported the latest xdelta-1.1 sources into the tree.
- A lot of code clean-up all over the tree.

