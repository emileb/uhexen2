                       Linux Hexen II Project
			--------------------
			 Hammer of  Thyrion	

1. Installation

  1.1 Getting the Program
  1.2 Software requirements
  1.3 Installing the data files
  1.4 Executing the game
  1.5 Sound 
  1.6 Thanks
  1.7 Contact

2. Notes

  2.1 Tweaks
  2.2 No Bosses
  2.3 Mods and Crazy Polygons
  2.4 Lines on Screen
  2.5 Hardware Acceleration
  2.6 System Stability
  2.7 Other
  2.8 Links

-------------------------------------------------------------------------------

1. Installation
---------------

1.1 Getting the Program
-----------------------

The easiest way to start is to find the file "aot-1.2.0.x86.run" (obtainable
from the 3d download site - see "2.8 Links") and execute it. It is a graphical
installer which also patches the Hexen II game files from your CD up to the
required version. Next, copy a HoT binary to the installation directory and you
should be set to run the game. They are:

    glhexen2.dynamic -  OpenGL Hexen II
    glh2mp.dynamic   -  OpenGL Portal of Praevus
    hexen2.dynamic   -  Software Hexen II
    h2mp.dynamic     -  Software Portal of Praevus

1.2 Software requirements
-------------------------

AoT has issues with linux sound modules. See "1.5 Sound" for more info.
The only unusual software requirements are:

    SDL                  : Single Direct Layer game libraries
    SDL_mixer            : required for midi support
    Alsa sound libraries : the SuSe supported Advanced Linux Sound Architecture
    nasm                 : an x86 assembler if you are compiling your own program.

and (perhaps) the multimedia libraries:  smpeg, vorbisfile, vorbis, ogg

1.3 Installing the data files
-----------------------------

If you didn't use "aot-1.2.0.x86.run" in step 1.1, you will have to manually 
upgrade the data files to game version 1.11. Earlier versions will not work.
To do this, upgrade the original w**dows game with the "ph2v111.exe" patch
(which is available on the web). After doing this, you should have these files:

    file	md5sum					size (bytes)
    ----	------					------------
    hexen.rc	4ad129364c4af58ff4bfa8914a48fdcf	336
    pak0.pak	c9675191e75dd25a3b9ed81ee7e05eff 	22704056
    pak1.pak	c2ac5b0640773eed9ebe1cda2eca2ad0	75601170
    progs2.dat	ee5ffd6f2303261e0e23b6b98a7f9dca	898060
    progs.dat	2334c5036d573d6831fc95737142bf73	952888

    and string<something>.txt renamed to "strings.txt"

All files should be lowercased, which can be done with "mv_lowercase" from the
file-rename-utils archive (see Links).

To use the mission pack, copy the w**dows "portals" directory to your AoT directory.

1.4 Executing the game
----------------------

The default mode is windowed. Use "glhexen2.dynamic -f" to start the game in
full-screen mode.  The following options are accepted:

     [-h | --help]                   Display this help message
     [-v | --version]                Display the game version
     [-f | --fullscreen]             Run the game fullscreen
     [-w | --windowed]               Run the game windowed
     [-s | --nosound]                Run the game without sound
     [-g | --gllibrary]              Select 3D rendering library
     [-width Width [-height Height]] Select screen size
     [-bpp]                          Depth for GL fullscreen mode
     [-heapsize Bytes]               Heapsize

Others may work, but aren't really supported.

You may wish to brighten the display with "xgamma". The script I use is:
    cd /usr/local/games/hexenII
    xgamma -q -gamma 1.3;       # brighten the display
    ./glhexen2.dynamic -width 800 -height 600 -fullscreen -heapsize 48000
	    # quake games require manually setting the heapsize
    xgamma -q -gamma 1;         # restore old brightness
If you haven't used a Hammer of Thyrion binary, the GL fullscreen modes are not
true fullscreen - they still have the window borders and handles. 

1.5 Sound 
---------

Several older linux shooters are picky about their sound driver. If your game
bombs out after sound initialization, you might try alternative sound
modules.  This is not straight forward and is a real problem for linux
games. If the Alsa sound modules are installed and configured, you can use
(for example):

    rmmod emu10k1          ;# remove standard sound module for SBLive card
    /etc/init.d/alsa start ;# start alsa sound modules

and check with alsamixer that the volumes are not turned down to zero.

Currently, sound compatibility issues have not been addressed.  There may be
other fixes for those affected, but I don't know of them.  Quake III has
similar issues and are related to the sound driver's "mmap" feature. The
problem may also be with OSS (Open Sound System - the original linux sound
libraries) compatibility, or lack of.

If you can't get sound working , the "-nosound" option will disable it.

1.6 Thanks
----------

*Thanks* to ID Software, Raven Games and Activision for a great game and for
supporting open source software. Also thank-you to Ibiblio.org, Sourceforge.net
and the AoT Authors - Dan Olson and Clément Bourdarias. Mega Thanks to all the
unheralded Quake/Hexen modders.

1.7 Contact
-----------
    Steven Atkinson    <stevenaaus@yahoo.com>
    Ozkan Sezer        <sezeroz@ttnet.net.tr>

----------------------------------------------------------------------------

2. Notes
--------

2.1 Tweaks
----------

Quake games are very friendly to tweakers. The best performance gain I've found
is by increasing the value "_snd_mixahead". For users with slow video cards,
changing the gl_ variables may speed up your system. These are just a few of
those that can be changed. For more info see various Quake tweaking sites.

       variable              values
       --------              ------
    _snd_mixahead  0.1 - 0.9  : 0.1 = less latency, 0.9 = better performance
    gl_ztrick      0|1        : 3% performance tweak (some cards unsupported)
    gl_picmip      0|1|2
    gl_playermip   0|1|2
    gl_texturemode gl_nearest                : (least quality, best speed)
                   gl_nearest_mipmap_nearest :           ^
                   gl_linear_mipmap_nearest  :           v
                   gl_linear_mipmap_linear   : (best quality, least speed)

    gl_otherglows  0 | 1      : enable glow on green and blue mana
    snow_active    0 - 255    : 0 = none, 1 = normal (amount designated by
			        the map), and higher will act as a multiplier.


2.2 No Bosses
-------------

AoT had a bug: The bosses don't appear :-(
This has been fixed in Hammer of Thyrion ;-)


2.3 Mods and Crazy Polygons
---------------------------

Some mission-packs/mods for Quake based games can cause existing player/monster
models to be drawn with lines all over the place. To fix this, delete the
directory "~/.aot/glhexen" or "~/.aot/portals/glhexen". When you next run
the game, it will remake this directory and everything should be fine.

The biggest mod I've seen for hexen II is the awesome Fortress of Four Doors.
(fo4d.zip). Go and get it, fool. 8>

2.4 Lines on Screen
-------------------

A common problem (esp. with 3dfx cards) is flickering lines across the screen
caused by gl_ztrick.  To fix this, bring down the console with the '~' key and
enter 'gl_ztrick 0'.

2.5 Hardware Acceleration
-------------------------

Setting up hardware GL acceleration under linux used to be a big deal, but most
modern distros should automatically configure this.

Nvidia's drivers for all of their modern video cards are not open source,
and because of this many distributions do not include them. If your Nvidia card
is running slowly this is probably the cause and you should visit Nvidia.com to
download the linux installer. In my experience these drivers are great, but not
all versions work 100% with all cards. If you have misbehaving Nvidia video
card, try an different (older) driver.

VooDoo 2 is no longer hardware accelerated under recent XFree-4.0 releases.
For GL acceleration of 3dfx cards before Voodoo 3 and Banshee, you
will have to use older versions of XFree86 (3.3 or so). Setting up a Voodoo 2
card under linux is a bit of work.

2.6 System Stability
--------------------

3D games are probably the most intensive workout you can give your PC.
Problems with them are not always easy to track down.  I recently  had some
trouble with glquake which I eventually tracked down to Mandrake's
XFree86-4.3 packages - probably due to compiler pentium optimizations.
I switched to XFree86-4.3 (from Redhat-9.0) and quake now is rock solid.

I've also had crashes in 3D games associated with

  * Hard drives overheating, seizing system.
  * Bios ram settings being too aggressive, crashing game.
  * Cpu overheating with unpredictable results.

2.7 Other
--------

Dan Olson:
"Raven didn't give us Hexen 2 source, they gave us Portal of Praevus source.
PoP is a few levels short of being an entirely different game....
I think once I nail a few simple physics bugs, we'll have PoP emulating
Hexen 2 quite nicely, but it's been suggested that I'll need a whole
different physics engine."


2.8 Links
---------

Hammer of Thyrion https://sourceforge.net/projects/uhexen2
Anvil of Thyrion  http://aot.linuxgames.com
AoT Download      http://www.3ddownloads.com/linuxgames/aot
Hexen II FAQ      http://www.raven-games.com/hex2faq/
Lowercase Utility www.freshmeat.net/projects/file-rename-utils
Linux GlQuake     http://mfcn.ilo.de/glxquake
