                           Linux Hexen II
			--------------------
                       Hammer of Thyrion 1.2.2

1. Installation

  1.1 Getting Started
  1.2 Software Requirements
  1.3 Executing the Game
  1.4 Sound 
  1.5 Thanks
  1.6 Contact

2. Notes

  2.1 Tweaks
  2.2 Problems with Bosses
  2.3 Mods and Crazy Polygons
  2.4 Lines on Screen
  2.5 Hardware Acceleration
  2.6 System Stability
  2.7 Other
  2.8 Links

-------------------------------------------------------------------------------


1. Installation
---------------


1.1 Getting Started
-------------------

Linux Hexen II requires Hexen II game files updated to version 1.11.
To do this you can either:

1. Copy the "data1" directory from the Hexen II CD to your Hexen II directory
and use the file "h2-game-updates-1.12a.tgz" (downloadable from the HoT web
site) to manually patch your data files to version 1.11. (The 1.12a refers to
the version of the mission pack, should you have it).

Or:

2. Find the file "aot-1.2.0.x86.run" (obtainable from the 3ddownloads site,
see "2.8 Links") and execute it. It is an AoT graphical installer which also
patches the Hexen II game files from your CD up to the required version. 

Then, simply copy a HoT binary to the installation directory and you should be
set to run the game. The binaries are:

    glhexen2 -  OpenGL Hexen II
    glh2mp   -  OpenGL Portal of Praevus
    hexen2   -  Software Hexen II
    h2mp     -  Software Portal of Praevus

The data files you will need are:

    file	md5sum					size (bytes)
    ----	------					------------
    hexen.rc	4ad129364c4af58ff4bfa8914a48fdcf	336
    pak0.pak	c9675191e75dd25a3b9ed81ee7e05eff 	22704056
    pak1.pak	c2ac5b0640773eed9ebe1cda2eca2ad0	75601170
    progs2.dat	ee5ffd6f2303261e0e23b6b98a7f9dca	898060
    progs.dat	2334c5036d573d6831fc95737142bf73	952888

    and string<something>.txt renamed to "strings.txt"

All files should be lower-cased (if not already) and can be done with
"mv_lowercase" from the file-rename-utils archive (see Links).

To use the mission pack, copy the "portals" directory to your Hexen II
directory (and ,optionally, patch the game files with "h2-game-updates-1.12a")


1.2 Software Requirements
-------------------------

HoT has issues with linux sound modules. See "1.4 Sound" for more info.
The only unusual software requirements are:

    SDL                  : Simple DirectMedia Layer libraries
    SDL_mixer            : required for midi support
    Alsa sound libraries : the SuSe supported Advanced Linux Sound Architecture
    nasm                 : x86 assembler if you are compiling your own binaries.


1.3 Executing the Game
----------------------

The default mode is windowed. Use "glhexen2 -f" to start the game in
full-screen mode.  The following options are accepted:

     [-h | --help]                   Display this help message
     [-v | --version]                Display the game version
     [-f | --fullscreen]             Run the game fullscreen
     [-w | --windowed]               Run the game windowed
     [-s | --nosound]                Run the game without sound
     [-g | --gllibrary]              Select 3D rendering library
     [-nomouse]                      Don't use the mouse in window mode
     [-width Width [-height Height]] Select screen size
     [-bpp]                          Depth for GL fullscreen mode
     [-heapsize Bytes]               Heapsize

Others may work, but aren't really supported.

You may wish to brighten the display with "xgamma". The script I use is:

    cd /usr/local/games/hexen2
    xgamma -q -gamma 1.3;       # brighten the display
    ./glhexen2 -width 800 -height 600 -f -heapsize 48000
	    			# default heapsize is 32768
    xgamma -q -gamma 1;         # restore old brightness


1.4 Sound 
---------

OSS sound code
--------------
HoT requires your kernel sound modules to be OSS (Open Sound System)
compatible.  If your game bombs out after sound initialization and you are not
using the Alsa kernel sound drivers you might try them, but doing so is not
straight forward.  Once the Alsa sound modules are installed and configured,
you can use (for example):

    rmmod emu10k1          ;# remove standard sound module for SBLive card
    /etc/init.d/alsa start ;# start alsa sound modules

and check with alsamixer that the volumes are not turned down to zero.

SDL sound code
--------------
There is now an option to build a new sound driver. To do this, set
"SOUND=SDL" in the Makefile in the HoT source code, and type "make". This
sound driver does not have the compatibility issues of the default (OSS) sound
code, it is very much beta - varying from working well, to not at all.

If you can't get sound working , the "-nosound" option will disable it.


1.5 Thanks
----------

*Thanks* to ID Software, Raven Games and Activision for a great game and for
supporting open source software. Also thank-you to Ibiblio.org, Sourceforge.net
and the AoT Authors - Dan Olson and Clément Bourdarias. Mega Thanks to all the
unheralded Doom/Quake/Hexen modders.


1.6 Contact
-----------
    Steven Atkinson    <stevenaaus@users.sourceforge.net>
    Ozkan Sezer        <sezero@users.sourceforge.net>

----------------------------------------------------------------------------


2. Notes
--------

2.1 Tweaks
----------

Quake games are very friendly to tweakers. The best performance gain I've found
is by increasing the value "_snd_mixahead". For users with slow video cards,
changing the gl_ variables may speed up your system. These are just a few of
those that can be changed. For more info see various Quake tweaking sites.

       variable              values
       --------              ------
    _snd_mixahead  0.1 - 0.9  : 0.1 = less latency, 0.9 = better performance
    gl_ztrick      0|1        : 3% performance tweak (some cards unsupported)
    gl_picmip      0|1|2
    gl_playermip   0|1|2
    gl_texturemode gl_nearest                : (least quality, best speed)
                   gl_nearest_mipmap_nearest :           ^
                   gl_linear_mipmap_nearest  :           v
                   gl_linear_mipmap_linear   : (best quality, least speed)

    gl_otherglows  0 | 1      : enable glow on green and blue mana
    snow_active    0 - 255    : 0 = none, 1 = normal (amount designated by
			        the map), and higher will act as a multiplier.
    m_oldmission   0 | 1      : enable "Old Mission" menu item in Praevus.


2.2 Problems with Bosses
------------------------

AoT has a bug: The bosses don't appear :-(
This has been fixed in Hammer of Thyrion ;-)

There is another (small) bug with Hexen II. On some systems Eidolon doesn't
jump cleanly off the ledge, and wanders around above the ground. There already
is an hcode fix for this: Download it from our page: eidolon_jumping_fix.tgz


2.3 Mods and Crazy Polygons
---------------------------

Some mission-packs/mods for Quake based games can cause existing
player/monster models to be drawn with lines all over the place. To fix this,
delete the directory "~/.aot/glhexen" or "~/.aot/portals/glhexen". When you
next run the game, it will remake this directory and everything should be
fine.

The biggest mod I've seen for hexen II is the awesome Fortress of Four Doors.
(fo4d.zip). Go and get it, now ;)

2.4 Lines on Screen
-------------------

A common problem (esp. with 3dfx cards) is flickering lines across the screen
caused by gl_ztrick.  To fix this, bring down the console with the '~' key and
enter 'gl_ztrick 0'.

2.5 Hardware Acceleration
-------------------------

Setting up hardware GL acceleration under linux used to be a big deal, but most
modern distros should automatically configure this.

Nvidia's drivers for all of their modern video cards are not open source,
and because of this many distributions do not include them. If your Nvidia card
is running slowly this is probably the cause and you should visit Nvidia.com to
download the linux installer. In my experience these drivers are great, but not
all versions work 100% with all cards. If you have misbehaving Nvidia video
card, try an different (older) driver.

Voodoo2 is no longer hardware accelerated under recent XFree-4.0 releases.
For OpenGL acceleration of 3dfx cards before Voodoo 3 and Banshee, you will
have to use older versions of XFree86 (3.3 or so). Setting up a Voodoo2 or
Voodoo Graphics/Rush card under linux is a bit of work.

2.6 System Stability
--------------------

3D games are probably the most intensive workout you can give your PC.
Problems with them are not always easy to track down.  I recently  had some
trouble with glquake which I eventually tracked down to Mandrake's
XFree86-4.3 packages - probably due to compiler pentium optimizations.
I switched to XFree86-4.3 (from Redhat-9.0) and quake now is rock solid.

I've also had crashes in 3D games associated with

  * Hard drives overheating, seizing system.
  * Bios ram settings being too aggressive, crashing game.
  * Cpu overheating with unpredictable results.


2.7 Other
--------

Dan Olson:
"Raven didn't give us Hexen 2 source, they gave us Portal of Praevus source.
PoP is a few levels short of being an entirely different game....
I think once I nail a few simple physics bugs, we'll have PoP emulating
Hexen 2 quite nicely, but it's been suggested that I'll need a whole
different physics engine."

We fixed several HexenC bugs, such as "Eidolon's jump not clearing the ledge."
These will be included in our releases when we prepare GUI installers.


2.8 Links
---------

Hammer of Thyrion  :  http://sourceforge.net/projects/uhexen2
Anvil of Thyrion   :  http://aot.linuxgames.com/
AoT Download       :  http://www.3ddownloads.com/linuxgames/aot
Pa3Pyx source-port :  http://sky.prohosting.com/pa3pyx/
JSHexen2 port      :  http://jurajstyk.host.sk/
Hexen II FAQ       :  http://www.raven-games.com/hex2faq/
Lowercase Utility  :  www.freshmeat.net/projects/file-rename-utils
Linux GlQuake      :  http://mfcn.ilo.de/glxquake
